<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connectors Demo</title>

    <script src="node_modules/leaflet/dist/leaflet-src.js" type="module"></script>
    <link rel="stylesheet" href="/node_modules/leaflet/dist/leaflet.css">

    <style>
        html,
        body {
            height: 100%;
            margin: 0;
        }

        #map {
            height: 100%;
        }
    </style>



</head>

<body>
    <div id="map"></div>

    <script type="module">
        import "./node_modules/leaflet/dist/leaflet-src.js";
        import "./src/main.js"
        import './node_modules/leaflet-svg-shape-markers/dist/leaflet-svg-shape-markers.js';

        var map = L.map('map', {
            center: [45.228481, 14.677734],
            zoom: 6
        });

        map.on("click", function (e) {
            if (e.originalEvent.ctrlKey) {
                // Save latlng to clipboard
                var latlng = e.latlng;
                var lat = latlng.lat.toFixed(6);
                var lng = latlng.lng.toFixed(6);
                var latlngString = `[${lat}, ${lng}]`;
                navigator.clipboard.writeText(latlngString);
                console.log("Copied to clipboard: " + latlngString);
            }
        });

        var Stadia_StamenWatercolor = L.tileLayer('https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.{ext}', {
            minZoom: 1,
            maxZoom: 16,
            attribution: '&copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a> &copy; <a href="https://www.stamen.com/" target="_blank">Stamen Design</a> &copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
            ext: 'jpg'
        });

        Stadia_StamenWatercolor.addTo(map);

        const Center = L.shapeMarker([45.828799, 18.544922], { shape: "square", radius: 20, fill: false }).addTo(map);

        const A = L.circleMarker([46.558860, 18.413086], { radius: 10, fill: false }).addTo(map);
        const B = L.circle([46.377254, 19.171143], { radius: 50000, fill: false }).addTo(map);
        const C = L.shapeMarker([44.933696, 19.511719], { shape: "square", radius: 10, fill: false }).addTo(map);
        const D = L.circleMarker([45.825928, 18.544235], { radius: 10, fill: false }).addTo(map);

        const others = [A, B, C, D];

        const connector = L.connector([Center, ...others]).addTo(map);
    </script>
</body>

</html>